{{#if comunidades}}
<div class="col-md-8 mx-auto">
    <div class="card">
        <div class="card-header">
            <h3>Editar Usuario</h3>
        </div>
        <div class="card-body">
            <form action="/usuarios/editar-usuario/{{usuario.id}}?_method=PUT" method="POST">
                <input type="hidden" name="_method" value="PUT">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Nombre y alias</span>
                        </div>
                        <input type="text" name="nombre" class="form-control" placeholder="Nombre"
                            value="{{usuario.nombre}}" required="true" pattern="[A-Za-z\s]{4,30}"
                            title="No se aceptan caracteres numericos o extraños/especiales, minimo 4 caracteres y maximo 30">
                        <input type="text" name="alias" class="form-control" placeholder="Alias/Apodo"
                            value="{{usuario.alias}}" pattern="[A-Za-z\s]{3,20}"
                            title="No se aceptan caracteres numericos o extraños/especiales, minimo 3 caracteres y maximo 20">
                    </div>
                </div>
                <div class="form-group">
                    <input type="Number" name="edad" class="form-control" placeholder="Edad" min="15" max="60"
                        value="{{usuario.edad}}" required="true" pattern="[0-9]{2}"
                        title="La edad debe comprender entre 15 y 60 años">
                </div>
                <label class="lead">Domicilio</label>
                <div class="form-group">
                    <input type="text" name="colonia" class="form-control" placeholder="Colonia"
                        value="{{usuario.direccion.colonia}}" required="true" pattern="[A-Za-z\s]{5,50}"
                        title="No se aceptan caracteres numericos o extraños/especiales">
                </div>
                <div class="form-group">
                    <input type="text" name="calle" class="form-control" placeholder="Calle"
                        value="{{usuario.direccion.calle}}" required="true" pattern="[A-Za-z\s]{5,50}"
                        title="No se aceptan caracteres numericos o extraños/especiales">
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Número exterior e interior</span>
                        </div>
                        <input type="Number" name="no_Ext" class="form-control" placeholder="Exterior"
                            value="{{usuario.direccion.no_Ext}}" required="true" pattern="[0-9]{0,5}"
                            title="Solamente se aceptan caracteres numericos, 0 es igual a S/N">
                        <input type="text" name="no_Int" class="form-control" placeholder="Interior" maxlength="2"
                            value="{{usuario.direccion.no_Int}}" pattern="[A-Z]{0,2}"
                            title="Solamente se aceptan caracteres del abecedario">
                    </div>
                </div>
                <div class="form-group">
                    <input type="Number" name="CP" class="form-control" placeholder="Código postal" minlength="4"
                        maxlength="7" maxlength="7" min="9999" max="9999999" value="{{usuario.direccion.CP}}"
                        required="true" pattern="[0-9]{4,7}" title="Solamente se aceptan caracteres numericos">
                </div>
                <label class="lead" for="comunidad">Comunidad</label>
                <div class="group-form">
                    <select name="comunidad" class="form-control">
                        <option value="{{usuario.comunidad}}">{{usuario.comunidad}}</option>
                        {{#each comunidades}}
                        <option value="{{comunidad}}">{{comunidad}}</option>
                        {{/each}}
                    </select>
                </div>
                <label class="lead">Contacto</label>
                {{#each usuario.contacto}}
                <div class="form-group">
                    <input type="text" name="telefono" class="form-control" placeholder="Número de teléfono"
                        minlength="10" maxlength="15" value="{{telefono}}" required="true"
                        pattern="[0-9]{10,15}" title="Solamente se aceptan caracteres numericos">
                </div>
                {{/each}}
                <!-- Agregar mas telefonos, buscar codigo Front-end y Back-end -->
                <a href="" id="agregarOtroNumero">Agregar un telefono extra</a>
                <div class="form-group">
                    <button class="btn btn-primary btn-block" type="submit">Guardar</button>
                </div>
            </form>
        </div>
    </div>
</div>
{{else}}
<div class="row">
    <div class="card mx-auto">
        <div class="card-body">
            <h1>Disculpa</h1>
            <p class="lead">Pero aún no hay comunidades registradas</p>
            <a href="/comunidades/agregar" class="btn btn-success btn-block">Agregar una</a>
        </div>
    </div>
</div>
{{/if}}